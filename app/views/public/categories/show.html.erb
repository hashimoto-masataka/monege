<div class = "container">
  <div class = "row">
    <div class = "col-12">
      <h2 class= "head-line mt-4 ml-5">家計簿詳細</h2>
      　<div class = "plofile">
      　   <%= @user.name %>
      　   <%= @user.job %>
      　   <%= @user.age %>
      　   <%= @user.annual_income %>
      　   <%= @user.prefecture %>
      　   <%= render "relationships/btn", user: @user %>
      　</div>

    </div>

    <%= render 'index', categories: @categories , sum_target_price: @sum_target_price %>

  </div>
</div>

<script>

const category_data = {
  labels: [
    <% @categories.each do | category| %>
      '<%= category.category_name %>',
    <% end %>
    ],
  datasets: [
    {
      label: 'カテゴリー表',
      data: [
        <% @categories.each do | category| %>
          '<%= category.target_price %>',
        <% end %>
      ],
    }
  ]
};

const pie_ctx = document.getElementById('pie_chart');
new Chart(pie_ctx, {
    type: 'pie',
    data: category_data,
    options: {
  /*    scales: {
        y: {
          beginAtZero: true
        }
      }
      */
    }
  });
const column_ctx = document.getElementById('column_chart');
new Chart(column_ctx, {
    type: 'bar',
    data: category_data,
    options: {
  /*    scales: {
        y: {
          beginAtZero: true
        }
      }
      */
    }
  });
</script>
